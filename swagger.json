{
    "openapi": "3.1.1",
    "info": {
        "title": "Grow Server API",
        "version": "0.4.2",
        "description": "API Documentation for Grow Server"
    },
    "servers": [
        {
            "url": "http://{basePath}:{port}/api/v1",
            "description": "Local development server",
            "variables": {
                "basePath": {
                    "default": "localhost"
                },
                "port": {
                    "default": "4732"
                }
            }
        }
    ],
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        },
        "schemas": {
            "User": {
                "type": "object",
                "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "phone": { "type": "string" },
                    "role": {
                        "type": "string",
                        "enum": ["CUSTOMER", "WORKER", "OWNER", "ADMIN"]
                    },
                    "is_active": { "type": "boolean" },
                    "created_at": { "type": "string", "format": "date-time" }
                }
            },
            "Wallet": {
                "type": "object",
                "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "user_id": { "type": "string", "format": "uuid" },
                    "balance": { "type": "number", "format": "float" }
                }
            },
            "Transaction": {
                "type": "object",
                "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "sender_id": { "type": "string", "format": "uuid" },
                    "receiver_phone": { "type": "string" },
                    "receiver_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "kiosk_id": { "type": "string", "format": "uuid" },
                    "amount_gross": { "type": "number", "format": "float" },
                    "amount_net": { "type": "number", "format": "float" },
                    "commission": { "type": "number", "format": "float" },
                    "type": {
                        "type": "string",
                        "enum": ["DEPOSIT", "WITHDRAWAL", "COMMISSION"]
                    },
                    "status": {
                        "type": "string",
                        "enum": ["PENDING", "COMPLETED", "FAILED", "REJECTED"]
                    },
                    "created_at": { "type": "string", "format": "date-time" }
                }
            },
            "Kiosk": {
                "type": "object",
                "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "owner_id": { "type": "string", "format": "uuid" },
                    "name": { "type": "string" },
                    "gov": { "type": "string" },
                    "area": { "type": "string" },
                    "is_approved": { "type": "boolean" }
                }
            },
            "WorkerProfile": {
                "type": "object",
                "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "user_id": { "type": "string", "format": "uuid" },
                    "kiosk_id": { "type": "string", "format": "uuid" },
                    "status": { "type": "string" }
                }
            },
            "Goal": {
                "type": "object",
                "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "user_id": { "type": "string", "format": "uuid" },
                    "title": { "type": "string" },
                    "target_amount": { "type": "number", "format": "float" },
                    "current_amount": {
                        "type": "number",
                        "format": "float",
                        "description": "Dynamically calculated progress based on transactions"
                    },
                    "type": { "type": "string" },
                    "deadline": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                }
            },
            "RedemptionRequest": {
                "type": "object",
                "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "user_id": { "type": "string", "format": "uuid" },
                    "amount": { "type": "number", "format": "float" },
                    "method": { "type": "string" },
                    "details": { "type": "string" },
                    "status": {
                        "type": "string",
                        "enum": ["PENDING", "COMPLETED", "FAILED", "REJECTED"]
                    },
                    "admin_note": { "type": "string", "nullable": true },
                    "created_at": { "type": "string", "format": "date-time" }
                }
            },
            "KioskDue": {
                "type": "object",
                "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "kiosk_id": { "type": "string", "format": "uuid" },
                    "amount": { "type": "number", "format": "float" },
                    "is_paid": { "type": "boolean" },
                    "collected_by": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "created_at": { "type": "string", "format": "date-time" }
                }
            },
            "SendOtpRequest": {
                "type": "object",
                "required": ["phone"],
                "properties": {
                    "phone": {
                        "type": "string",
                        "pattern": "^\\+?[0-9]{10,15}$"
                    }
                }
            },
            "VerifyOtpRequest": {
                "type": "object",
                "required": ["phone", "code"],
                "properties": {
                    "phone": {
                        "type": "string",
                        "pattern": "^\\+?[0-9]{10,15}$"
                    },
                    "code": { "type": "string", "minLength": 4, "maxLength": 6 }
                }
            },
            "RegisterRequest": {
                "type": "object",
                "required": ["phone", "password", "role"],
                "properties": {
                    "phone": {
                        "type": "string",
                        "pattern": "^\\+?[0-9]{10,15}$"
                    },
                    "full_name": { "type": "string", "minLength": 2 },
                    "password": { "type": "string", "minLength": 8 },
                    "role": {
                        "type": "string",
                        "enum": ["CUSTOMER", "WORKER", "OWNER"]
                    }
                }
            },
            "LoginRequest": {
                "type": "object",
                "required": ["phone", "password"],
                "properties": {
                    "phone": {
                        "type": "string",
                        "pattern": "^\\+?[0-9]{10,15}$"
                    },
                    "password": { "type": "string" }
                }
            },
            "SendPointsRequest": {
                "type": "object",
                "required": ["phone", "amount", "kioskId"],
                "properties": {
                    "phone": {
                        "type": "string",
                        "pattern": "^\\+?[0-9]{10,15}$"
                    },
                    "amount": {
                        "type": "number",
                        "minimum": 5,
                        "maximum": 100
                    },
                    "kioskId": { "type": "string", "format": "uuid" }
                }
            },
            "RedeemRequest": {
                "type": "object",
                "required": ["amount", "method", "details"],
                "properties": {
                    "amount": { "type": "number", "exclusiveMinimum": 0 },
                    "method": { "type": "string", "minLength": 3 },
                    "details": { "type": "string", "minLength": 5 }
                }
            },
            "CreateGoalRequest": {
                "type": "object",
                "required": ["title", "target", "type"],
                "properties": {
                    "title": { "type": "string", "minLength": 3 },
                    "target": { "type": "number", "exclusiveMinimum": 0 },
                    "type": {
                        "type": "string",
                        "enum": ["SAVING", "WORKER_TARGET"]
                    },
                    "deadline": { "type": "string", "format": "date-time" }
                }
            },
            "UpdateGoalRequest": {
                "type": "object",
                "required": ["amount"],
                "properties": {
                    "amount": { "type": "number", "exclusiveMinimum": 0 }
                }
            },
            "CreateKioskRequest": {
                "type": "object",
                "required": ["name", "kiosk_type"],
                "properties": {
                    "name": { "type": "string", "minLength": 3 },
                    "kiosk_type": { "type": "string", "minLength": 3 },
                    "location": { "type": "string", "minLength": 3 }
                }
            },
            "InviteWorkerRequest": {
                "type": "object",
                "required": ["workerPhone", "kioskId"],
                "properties": {
                    "workerPhone": {
                        "type": "string",
                        "pattern": "^\\+?[0-9]{10,15}$"
                    },
                    "kioskId": { "type": "string", "format": "uuid" }
                }
            },
            "ProcessRedemptionRequest": {
                "type": "object",
                "required": ["reqId", "action"],
                "properties": {
                    "reqId": { "type": "string", "format": "uuid" },
                    "action": {
                        "type": "string",
                        "enum": ["APPROVE", "REJECT"]
                    },
                    "note": { "type": "string" }
                }
            },
            "CollectDueRequest": {
                "type": "object",
                "required": ["dueId"],
                "properties": {
                    "dueId": { "type": "string", "format": "uuid" }
                }
            },
            "UpdateUserStatusRequest": {
                "type": "object",
                "required": ["status"],
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": ["ACTIVE", "SUSPENDED", "PENDING", "REJECTED"]
                    },
                    "note": { "type": "string" }
                }
            },
            "UpdateIdStatusRequest": {
                "type": "object",
                "required": ["status"],
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": ["PENDING", "VERIFIED", "REJECTED"]
                    },
                    "rejectionReason": { "type": "string" }
                }
            },
            "ManualUserUpdateRequest": {
                "type": "object",
                "properties": {
                    "full_name": { "type": "string", "minLength": 2 },
                    "phone": {
                        "type": "string",
                        "pattern": "^\\+?[0-9]{10,15}$"
                    },
                    "email": { "type": "string", "format": "email" },
                    "role": {
                        "type": "string",
                        "enum": ["CUSTOMER", "WORKER", "OWNER"]
                    }
                }
            },
            "AdjustBalanceRequest": {
                "type": "object",
                "required": ["amount", "reason"],
                "properties": {
                    "amount": { "type": "number", "format": "integer" },
                    "reason": { "type": "string", "minLength": 5 }
                }
            },
            "AdminCreateKioskRequest": {
                "type": "object",
                "required": ["name", "ownerPhone", "location"],
                "properties": {
                    "name": { "type": "string", "minLength": 3 },
                    "ownerPhone": {
                        "type": "string",
                        "pattern": "^\\++?[0-9]{10,15}$"
                    },
                    "location": { "type": "string" },
                    "latitude": { "type": "number" },
                    "longitude": { "type": "number" }
                }
            },
            "UpdateKioskStatusRequest": {
                "type": "object",
                "required": ["is_active"],
                "properties": {
                    "is_active": { "type": "boolean" },
                    "reason": { "type": "string" }
                }
            },
            "ReassignWorkerRequest": {
                "type": "object",
                "required": ["kioskId"],
                "properties": {
                    "kioskId": { "type": "string", "format": "uuid" }
                }
            },
            "UpdateSettingRequest": {
                "type": "object",
                "required": ["key", "value"],
                "properties": {
                    "key": { "type": "string" },
                    "value": {},
                    "description": { "type": "string" }
                }
            },
            "CreateAdminRequest": {
                "type": "object",
                "required": ["phone", "fullName", "password", "adminRole"],
                "properties": {
                    "phone": {
                        "type": "string",
                        "pattern": "^\\[0-9]{10,15}$"
                    },
                    "fullName": { "type": "string", "minLength": 2 },
                    "password": { "type": "string", "minLength": 8 },
                    "adminRole": {
                        "type": "string",
                        "enum": ["SUPER_ADMIN", "EDITOR", "VIEWER"]
                    }
                }
            }
        }
    },
    "paths": {
        "/auth/send-otp": {
            "post": {
                "summary": "Send OTP to phone number",
                "tags": ["Auth"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SendOtpRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "OTP sent successfully" }
                }
            }
        },
        "/auth/verify-otp": {
            "post": {
                "summary": "Verify OTP and get token",
                "tags": ["Auth"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/VerifyOtpRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "OTP verified successfully" }
                }
            }
        },
        "/auth/register": {
            "post": {
                "summary": "Register new user",
                "tags": ["Auth"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegisterRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": { "description": "User registered successfully" }
                }
            }
        },
        "/auth/login": {
            "post": {
                "summary": "Login with phone and password",
                "tags": ["Auth"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Login successful" }
                }
            }
        },
        "/auth/verify": {
            "get": {
                "summary": "Verify authentication status",
                "tags": ["Auth"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "Authenticated" }
                }
            }
        },
        "/dashboard/owner": {
            "get": {
                "summary": "Get owner dashboard data",
                "tags": ["Dashboard"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "Owner dashboard data" }
                }
            }
        },
        "/dashboard/worker": {
            "get": {
                "summary": "Get worker dashboard data",
                "tags": ["Dashboard"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "Worker dashboard data" }
                }
            }
        },
        "/auth/delete-account": {
            "delete": {
                "summary": "Delete user account",
                "tags": ["Auth"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "Account deleted successfully" }
                }
            }
        },
        "/admin/dashboard": {
            "get": {
                "summary": "Get admin dashboard with stats",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "filter",
                        "in": "query",
                        "description": "Filter stats by duration (1d, 7d, 30d)",
                        "schema": {
                            "type": "string",
                            "enum": ["1d", "7d", "30d"],
                            "default": "7d"
                        }
                    }
                ],
                "responses": {
                    "200": { "description": "Dashboard data" }
                }
            }
        },
        "/admin/workers": {
            "get": {
                "summary": "Get workers",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "List of workers" }
                }
            }
        },
        "/admin/workers/{id}": {
            "get": {
                "summary": "Get worker details",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "responses": {
                    "200": { "description": "Worker details" }
                }
            }
        },
        "/admin/workers/{id}/status": {
            "put": {
                "summary": "Update worker status",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserStatusRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Worker status updated" }
                }
            }
        },
        "/admin/workers/{id}/reassign": {
            "put": {
                "summary": "Reassign worker to another kiosk",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ReassignWorkerRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Worker reassigned" }
                }
            }
        },
        "/admin/customers": {
            "get": {
                "summary": "Get customers",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "List of customers" }
                }
            }
        },
        "/admin/customers/{id}": {
            "get": {
                "summary": "Get customer details",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "responses": {
                    "200": { "description": "Customer details" }
                }
            }
        },
        "/admin/customers/{id}/status": {
            "put": {
                "summary": "Update customer status",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserStatusRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Customer status updated" }
                }
            }
        },
        "/admin/owners": {
            "get": {
                "summary": "Get owners",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "List of owners" }
                }
            }
        },
        "/admin/owners/{id}": {
            "get": {
                "summary": "Get owner details",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "responses": {
                    "200": { "description": "Owner details" }
                }
            },
            "put": {
                "summary": "Update owner details (Manual)",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ManualUserUpdateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Owner updated" }
                }
            }
        },
        "/admin/owners/{id}/status": {
            "put": {
                "summary": "Update owner status",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserStatusRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Owner status updated" }
                }
            }
        },
        "/admin/owners/{id}/balance": {
            "post": {
                "summary": "Adjust owner balance",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AdjustBalanceRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Balance adjusted" }
                }
            }
        },
        "/admin/kiosks": {
            "get": {
                "summary": "Get all kiosks",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "List of kiosks" }
                }
            },
            "post": {
                "summary": "Create kiosk (Admin)",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AdminCreateKioskRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": { "description": "Kiosk created" }
                }
            }
        },
        "/admin/kiosks/{id}": {
            "get": {
                "summary": "Get kiosk details",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "responses": {
                    "200": { "description": "Kiosk details" }
                }
            }
        },
        "/admin/kiosks/{id}/status": {
            "put": {
                "summary": "Update kiosk status",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateKioskStatusRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Kiosk status updated" }
                }
            }
        },
        "/admin/redemptions/pending": {
            "get": {
                "summary": "Get pending redemptions",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "List of pending redemptions" }
                }
            }
        },
        "/admin/redemptions/process": {
            "post": {
                "summary": "Process redemption request",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ProcessRedemptionRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Redemption processed" }
                }
            }
        },
        "/admin/dues/collect": {
            "post": {
                "summary": "Collect a due",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CollectDueRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Due collected" }
                }
            }
        },
        "/admin/settings": {
            "get": {
                "summary": "Get system settings",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "System settings" }
                }
            },
            "put": {
                "summary": "Update system setting",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateSettingRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Setting updated" }
                }
            }
        },
        "/admin/team": {
            "get": {
                "summary": "Get team members",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "Team members" }
                }
            },
            "post": {
                "summary": "Create admin user",
                "tags": ["Admin"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateAdminRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": { "description": "Admin created" }
                }
            }
        },
        "/kiosks": {
            "post": {
                "summary": "Create new kiosk (Owner only)",
                "tags": ["Kiosks"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateKioskRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": { "description": "Kiosk created" }
                }
            },
            "get": {
                "summary": "Get user's kiosks",
                "tags": ["Kiosks"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "List of kiosks" }
                }
            }
        },
        "/kiosks/invite-worker": {
            "post": {
                "summary": "Invite worker to kiosk (Owner only)",
                "tags": ["Kiosks"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/InviteWorkerRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Worker invited" }
                }
            }
        },
        "/kiosks/worker-invitations": {
            "get": {
                "summary": "Get worker invitations",
                "tags": ["Kiosks"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "List of invitations" }
                }
            }
        },
        "/kiosks/accept-invitation/{invitationId}": {
            "post": {
                "summary": "Accept worker invitation (Worker only)",
                "tags": ["Kiosks"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "invitationId",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "responses": {
                    "200": { "description": "Invitation accepted" }
                }
            }
        },
        "/kiosks/{kioskId}/workers": {
            "get": {
                "summary": "Get kiosk workers (Owner only)",
                "tags": ["Kiosks"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "kioskId",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "responses": {
                    "200": { "description": "List of workers" }
                }
            }
        },
        "/kiosks/{kioskId}/dues": {
            "get": {
                "summary": "Get kiosk dues (Owner only)",
                "tags": ["Kiosks"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "kioskId",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "responses": {
                    "200": { "description": "List of dues" }
                }
            }
        },
        "/transactions": {
            "post": {
                "summary": "Send points to customer",
                "tags": ["Transactions"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SendPointsRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Points sent successfully" }
                }
            },
            "get": {
                "summary": "Get transaction history",
                "tags": ["Transactions"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "Transaction history" }
                }
            }
        },
        "/transactions/stats": {
            "get": {
                "summary": "Get daily transaction statistics",
                "tags": ["Transactions"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "Daily stats" }
                }
            }
        },
        "/wallet/balance": {
            "get": {
                "summary": "Get wallet balance",
                "tags": ["Wallet"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "Wallet balance" }
                }
            }
        },
        "/wallet/redeem": {
            "post": {
                "summary": "Create redemption request",
                "tags": ["Wallet"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RedeemRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": { "description": "Redemption request created" }
                }
            }
        },
        "/wallet/goals": {
            "get": {
                "summary": "Get user's goals",
                "tags": ["Wallet"],
                "security": [{ "bearerAuth": [] }],
                "responses": {
                    "200": { "description": "List of goals" }
                }
            },
            "post": {
                "summary": "Create goal",
                "tags": ["Wallet"],
                "security": [{ "bearerAuth": [] }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateGoalRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": { "description": "Goal created" }
                }
            }
        },
        "/wallet/goals/{id}": {
            "put": {
                "summary": "Update goal progress",
                "tags": ["Wallet"],
                "security": [{ "bearerAuth": [] }],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string", "format": "uuid" }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateGoalRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Goal updated" }
                }
            }
        }
    }
}
